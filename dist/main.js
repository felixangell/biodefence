!function(t){var e={};function n(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);class r{constructor(t,e){this.pos={x:t,y:e}}update(){}render(t){}}class s extends r{update(){}render(t){const{x:e,y:n}=this.pos;t.fillStyle="#ff0000",t.fillRect(e,n,32,32)}}class i{constructor(){this.entities=[new s(50,50)]}update(){for(const t of this.entities)t.update()}render(t){for(const e of this.entities)e.render(t)}}class o{constructor(){this.age=1,this.last=new Date}update(){new Date-this.last>5e3&&(this.age++,this.last=new Date)}render(t){t.fillStyle="#000000",t.fillRect(0,0,800,48),t.fillStyle="#ffffff",t.fillText(`age ${this.age}`,32,32)}}class c{constructor(){this.hud=new o,this.map=new i}update(){this.hud.update(),this.map.update()}render(t){this.hud.render(t),this.map.render(t)}}function l(t,e){let n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}(new class{constructor(){this.container=document.querySelector("#game-container"),this.ctx=this.container.getContext("2d"),this.events=[],this.currentState=new c,this.container.addEventListener("click",t=>{this.events.push({type:"click",event:t})})}update(){for(;this.events.length>0;){const{type:t,event:e}=this.events.shift();switch(t){case"click":const{x:n,y:r}=l(this.container,e);console.log("clicked at ",n,r)}}const t=this.currentState;t&&t.update()}render(t){t.fillStyle="#ffffff",t.fillRect(0,0,800,600);const e=this.currentState;e&&e.render(t)}start(){setInterval(()=>{const t=this.ctx;t.font="16px Verdana",this.update(),this.render(t)},1e3/60)}}).start()}]);